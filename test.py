import re

content = '''规则复述\n- 将/帅：只能在九宫内活动，每次按横线或竖线走一格，不能与对方将直接对面。\n- 士：只能在九宫内沿斜线走一步。\n- 象：走"田"字，不能过河，象眼必须为空。\n- 马：走"日"字，马腿必须为空。\n- 车：沿行或列直线移动任意格，路径上任何棋子都会阻挡。\n- 炮：移动时与车相同，吃子时需隔一个棋子（炮架）。\n- 兵/卒：过河前只能向前一步，过河后可向前或左右一步，不能后退。\n- 吃子规则：只能吃对方棋子，目标位置替换为自己的棋子，原位置变空。\n\n分析过程\n- 起点（行号/列号）：红炮1（行8列2）\n- 目标位置（行号/列号）：行4列2\n- 路径检查：行7列2, 行6列2, 行5列2\n- 目标位置检查：黑卒2（对方棋子，可吃）\n- 规则依据和优先级理由：吃黑卒1价值1分，优于空走。\n- 合法性确认：路径全空，符合规则。\n\n移动指令\n["RP1", [3, 1]]'''
pattern = r'移动指令\s*\n\["([A-Z]{2}\d)",\s*\[(\d+),\s*(\d+)\]\]'
match = re.search(pattern, content)

if match:
    print("匹配成功:", match.groups())
else:
    print("匹配失败")